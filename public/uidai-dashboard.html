<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UIDAI Aadhaar Enrolment Analytics Dashboard</title>
  <meta name="description" content="Comprehensive analytics dashboard for UIDAI Aadhaar enrolment and update data across India">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: { DEFAULT: 'hsl(220, 70%, 45%)', foreground: 'hsl(0, 0%, 100%)' },
            secondary: { DEFAULT: 'hsl(25, 95%, 53%)', foreground: 'hsl(0, 0%, 100%)' },
            accent: { DEFAULT: 'hsl(152, 60%, 40%)', foreground: 'hsl(0, 0%, 100%)' },
            success: { DEFAULT: 'hsl(142, 71%, 45%)', foreground: 'hsl(0, 0%, 100%)' },
            warning: { DEFAULT: 'hsl(38, 92%, 50%)', foreground: 'hsl(0, 0%, 100%)' },
            destructive: { DEFAULT: 'hsl(0, 84%, 60%)', foreground: 'hsl(0, 0%, 100%)' },
            muted: { DEFAULT: 'hsl(220, 14%, 96%)', foreground: 'hsl(220, 9%, 46%)' },
            card: { DEFAULT: 'hsl(0, 0%, 100%)', foreground: 'hsl(222, 47%, 11%)' },
            border: 'hsl(220, 13%, 91%)',
            background: 'hsl(220, 20%, 97%)',
            foreground: 'hsl(222, 47%, 11%)',
          },
          fontFamily: { sans: ['Inter', 'sans-serif'] },
        }
      }
    }
  </script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #f0f4f8 0%, #e8f0fe 50%, #fff7ed 100%); min-height: 100vh; }
    
    @keyframes float { 0%, 100% { transform: translateY(0px) rotate(0deg); } 50% { transform: translateY(-20px) rotate(5deg); } }
    @keyframes pulse-slow { 0%, 100% { opacity: 0.4; } 50% { opacity: 0.8; } }
    @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
    @keyframes counter { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes scaleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    
    .animate-float { animation: float 6s ease-in-out infinite; }
    .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
    .animate-shimmer { animation: shimmer 3s ease-in-out infinite; background-size: 200% 100%; }
    .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
    .animate-scaleIn { animation: scaleIn 0.3s ease-out forwards; }
    
    .gradient-saffron { background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(38, 92%, 50%) 100%); }
    .gradient-navy { background: linear-gradient(135deg, hsl(220, 70%, 45%) 0%, hsl(230, 65%, 55%) 100%); }
    .gradient-emerald { background: linear-gradient(135deg, hsl(152, 60%, 40%) 0%, hsl(160, 55%, 50%) 100%); }
    
    .glass-card { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); }
    .glass-dark { background: rgba(30, 41, 59, 0.9); backdrop-filter: blur(10px); }
    
    .shadow-glow-primary { box-shadow: 0 10px 40px -10px hsla(220, 70%, 45%, 0.4); }
    .shadow-glow-secondary { box-shadow: 0 10px 40px -10px hsla(25, 95%, 53%, 0.4); }
    .shadow-glow-accent { box-shadow: 0 10px 40px -10px hsla(152, 60%, 40%, 0.4); }
    
    .hover-lift { transition: all 0.3s ease; }
    .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 20px 40px -15px rgba(0,0,0,0.15); }
    
    .tab-active { background: linear-gradient(135deg, hsl(220, 70%, 45%) 0%, hsl(230, 65%, 55%) 100%); color: white; }
    
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    
    .particle { position: absolute; border-radius: 50%; pointer-events: none; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;
    const { 
      AreaChart, Area, BarChart, Bar, LineChart, Line, ComposedChart,
      XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Cell 
    } = Recharts;

    // ============= DATA =============
    const aadhaarData = {
      districts: [
        { state: "Maharashtra", district: "Mumbai", enrolments: 125000, updates: 89000, failures: 3200, totalRequests: 217200, failureRate: 1.47 },
        { state: "Maharashtra", district: "Pune", enrolments: 98000, updates: 67000, failures: 2100, totalRequests: 167100, failureRate: 1.26 },
        { state: "Maharashtra", district: "Nagpur", enrolments: 45000, updates: 32000, failures: 1800, totalRequests: 78800, failureRate: 2.28 },
        { state: "Maharashtra", district: "Thane", enrolments: 78000, updates: 54000, failures: 1500, totalRequests: 133500, failureRate: 1.12 },
        { state: "Maharashtra", district: "Nashik", enrolments: 52000, updates: 38000, failures: 2400, totalRequests: 92400, failureRate: 2.60 },
        { state: "Uttar Pradesh", district: "Lucknow", enrolments: 112000, updates: 78000, failures: 4500, totalRequests: 194500, failureRate: 2.31 },
        { state: "Uttar Pradesh", district: "Kanpur", enrolments: 89000, updates: 62000, failures: 3800, totalRequests: 154800, failureRate: 2.45 },
        { state: "Uttar Pradesh", district: "Varanasi", enrolments: 67000, updates: 48000, failures: 5200, totalRequests: 120200, failureRate: 4.33 },
        { state: "Uttar Pradesh", district: "Agra", enrolments: 54000, updates: 39000, failures: 2900, totalRequests: 95900, failureRate: 3.02 },
        { state: "Uttar Pradesh", district: "Prayagraj", enrolments: 61000, updates: 43000, failures: 3100, totalRequests: 107100, failureRate: 2.89 },
        { state: "Karnataka", district: "Bengaluru", enrolments: 145000, updates: 98000, failures: 2800, totalRequests: 245800, failureRate: 1.14 },
        { state: "Karnataka", district: "Mysuru", enrolments: 58000, updates: 41000, failures: 1900, totalRequests: 100900, failureRate: 1.88 },
        { state: "Karnataka", district: "Hubli", enrolments: 42000, updates: 29000, failures: 2200, totalRequests: 73200, failureRate: 3.01 },
        { state: "Karnataka", district: "Mangalore", enrolments: 51000, updates: 36000, failures: 1600, totalRequests: 88600, failureRate: 1.81 },
        { state: "Karnataka", district: "Belgaum", enrolments: 47000, updates: 33000, failures: 2500, totalRequests: 82500, failureRate: 3.03 },
        { state: "Tamil Nadu", district: "Chennai", enrolments: 138000, updates: 95000, failures: 3100, totalRequests: 236100, failureRate: 1.31 },
        { state: "Tamil Nadu", district: "Coimbatore", enrolments: 72000, updates: 51000, failures: 2300, totalRequests: 125300, failureRate: 1.84 },
        { state: "Tamil Nadu", district: "Madurai", enrolments: 64000, updates: 45000, failures: 2800, totalRequests: 111800, failureRate: 2.50 },
        { state: "Tamil Nadu", district: "Trichy", enrolments: 48000, updates: 34000, failures: 1700, totalRequests: 83700, failureRate: 2.03 },
        { state: "Tamil Nadu", district: "Salem", enrolments: 41000, updates: 29000, failures: 2100, totalRequests: 72100, failureRate: 2.91 },
        { state: "Rajasthan", district: "Jaipur", enrolments: 95000, updates: 66000, failures: 4200, totalRequests: 165200, failureRate: 2.54 },
        { state: "Rajasthan", district: "Jodhpur", enrolments: 52000, updates: 37000, failures: 3800, totalRequests: 92800, failureRate: 4.09 },
        { state: "Rajasthan", district: "Udaipur", enrolments: 43000, updates: 30000, failures: 3200, totalRequests: 76200, failureRate: 4.20 },
        { state: "Rajasthan", district: "Kota", enrolments: 38000, updates: 27000, failures: 2600, totalRequests: 67600, failureRate: 3.85 },
        { state: "Rajasthan", district: "Ajmer", enrolments: 35000, updates: 25000, failures: 2900, totalRequests: 62900, failureRate: 4.61 },
        { state: "Gujarat", district: "Ahmedabad", enrolments: 118000, updates: 82000, failures: 2900, totalRequests: 202900, failureRate: 1.43 },
        { state: "Gujarat", district: "Surat", enrolments: 89000, updates: 62000, failures: 2400, totalRequests: 153400, failureRate: 1.56 },
        { state: "Gujarat", district: "Vadodara", enrolments: 61000, updates: 43000, failures: 1800, totalRequests: 105800, failureRate: 1.70 },
        { state: "Gujarat", district: "Rajkot", enrolments: 52000, updates: 37000, failures: 1500, totalRequests: 90500, failureRate: 1.66 },
        { state: "Gujarat", district: "Gandhinagar", enrolments: 34000, updates: 24000, failures: 900, totalRequests: 58900, failureRate: 1.53 },
        { state: "West Bengal", district: "Kolkata", enrolments: 132000, updates: 91000, failures: 4800, totalRequests: 227800, failureRate: 2.11 },
        { state: "West Bengal", district: "Howrah", enrolments: 68000, updates: 47000, failures: 3200, totalRequests: 118200, failureRate: 2.71 },
        { state: "West Bengal", district: "Durgapur", enrolments: 45000, updates: 32000, failures: 2800, totalRequests: 79800, failureRate: 3.51 },
        { state: "West Bengal", district: "Siliguri", enrolments: 52000, updates: 36000, failures: 4100, totalRequests: 92100, failureRate: 4.45 },
        { state: "West Bengal", district: "Asansol", enrolments: 41000, updates: 29000, failures: 3500, totalRequests: 73500, failureRate: 4.76 },
        { state: "Bihar", district: "Patna", enrolments: 87000, updates: 61000, failures: 6200, totalRequests: 154200, failureRate: 4.02 },
        { state: "Bihar", district: "Gaya", enrolments: 52000, updates: 37000, failures: 5800, totalRequests: 94800, failureRate: 6.12 },
        { state: "Bihar", district: "Muzaffarpur", enrolments: 48000, updates: 34000, failures: 7200, totalRequests: 89200, failureRate: 8.07 },
        { state: "Bihar", district: "Bhagalpur", enrolments: 41000, updates: 29000, failures: 5100, totalRequests: 75100, failureRate: 6.79 },
        { state: "Bihar", district: "Darbhanga", enrolments: 38000, updates: 27000, failures: 6800, totalRequests: 71800, failureRate: 9.47 }
      ],
      monthlyTrends: [
        { month: "Jan 2022", enrolments: 2800000, updates: 1900000 },
        { month: "Apr 2022", enrolments: 3200000, updates: 2100000 },
        { month: "Jul 2022", enrolments: 2900000, updates: 2000000 },
        { month: "Oct 2022", enrolments: 3100000, updates: 2200000 },
        { month: "Jan 2023", enrolments: 3400000, updates: 2400000 },
        { month: "Apr 2023", enrolments: 3800000, updates: 2600000 },
        { month: "Jul 2023", enrolments: 3500000, updates: 2500000 },
        { month: "Oct 2023", enrolments: 3700000, updates: 2700000 },
        { month: "Jan 2024", enrolments: 4000000, updates: 2900000 },
        { month: "Apr 2024", enrolments: 4400000, updates: 3200000 },
        { month: "Jul 2024", enrolments: 4100000, updates: 3000000 },
        { month: "Oct 2024", enrolments: 4300000, updates: 3100000 }
      ],
      ageAnalysis: [
        { ageGroup: "0-5 Years", enrolments: 1200000, updates: 150000, failures: 48000, failureRate: 3.56, riskScore: 72 },
        { ageGroup: "5-18 Years", enrolments: 3500000, updates: 890000, failures: 65000, failureRate: 1.48, riskScore: 35 },
        { ageGroup: "18-40 Years", enrolments: 8200000, updates: 4500000, failures: 127000, failureRate: 1.00, riskScore: 22 },
        { ageGroup: "40-60 Years", enrolments: 4100000, updates: 2800000, failures: 138000, failureRate: 2.00, riskScore: 48 },
        { ageGroup: "60+ Years", enrolments: 2200000, updates: 1800000, failures: 240000, failureRate: 6.00, riskScore: 89 }
      ]
    };

    // ============= UTILITY FUNCTIONS =============
    function formatNumber(num) {
      if (num >= 10000000) return (num / 10000000).toFixed(2) + ' Cr';
      if (num >= 100000) return (num / 100000).toFixed(2) + ' L';
      if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
      return num.toString();
    }

    function calculateStats() {
      const totalEnrolments = aadhaarData.districts.reduce((sum, d) => sum + d.enrolments, 0);
      const totalUpdates = aadhaarData.districts.reduce((sum, d) => sum + d.updates, 0);
      const totalFailures = aadhaarData.districts.reduce((sum, d) => sum + d.failures, 0);
      const totalRequests = aadhaarData.districts.reduce((sum, d) => sum + d.totalRequests, 0);
      const avgFailureRate = (totalFailures / totalRequests * 100).toFixed(2);
      
      return {
        totalEnrolments,
        totalUpdates,
        totalFailures,
        totalRequests,
        avgFailureRate,
        highRiskDistricts: aadhaarData.districts.filter(d => d.failureRate > 5).length,
        totalDistricts: aadhaarData.districts.length,
        totalStates: new Set(aadhaarData.districts.map(d => d.state)).size
      };
    }

    function detectAnomalies() {
      const failureRates = aadhaarData.districts.map(d => d.failureRate);
      const mean = failureRates.reduce((a, b) => a + b, 0) / failureRates.length;
      const stdDev = Math.sqrt(failureRates.reduce((sum, rate) => sum + Math.pow(rate - mean, 2), 0) / failureRates.length);
      
      return aadhaarData.districts
        .map(d => {
          const zScore = (d.failureRate - mean) / stdDev;
          let severity = 'Medium';
          if (zScore > 3) severity = 'Critical';
          else if (zScore > 2.5) severity = 'High';
          return { ...d, zScore, severity };
        })
        .filter(d => d.zScore > 2)
        .sort((a, b) => b.zScore - a.zScore);
    }

    function generatePredictions() {
      const updateVolumes = aadhaarData.monthlyTrends.map(t => t.updates);
      const n = updateVolumes.length;
      
      let sumX = 0, sumY = 0, sumXY = 0, sumX2 = 0;
      for (let i = 0; i < n; i++) {
        sumX += i + 1;
        sumY += updateVolumes[i];
        sumXY += (i + 1) * updateVolumes[i];
        sumX2 += (i + 1) * (i + 1);
      }
      
      const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
      const intercept = (sumY - slope * sumX) / n;
      
      const predictions = [];
      const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
      
      for (let i = 0; i < 6; i++) {
        const x = n + i + 1;
        const predicted = intercept + slope * x;
        const error = predicted * 0.1 * (1 + i * 0.02);
        
        predictions.push({
          month: months[i] + ' 2025',
          predicted: Math.round(predicted),
          upperBound: Math.round(predicted + error),
          lowerBound: Math.round(predicted - error)
        });
      }
      
      return predictions;
    }

    function getStateData() {
      const stateData = {};
      aadhaarData.districts.forEach(d => {
        if (!stateData[d.state]) {
          stateData[d.state] = { enrolments: 0, updates: 0, failures: 0 };
        }
        stateData[d.state].enrolments += d.enrolments;
        stateData[d.state].updates += d.updates;
        stateData[d.state].failures += d.failures;
      });
      
      return Object.entries(stateData)
        .map(([state, data]) => ({ state, ...data }))
        .sort((a, b) => (b.enrolments + b.updates) - (a.enrolments + a.updates));
    }

    // ============= COMPONENTS =============
    
    // Animated Counter
    function AnimatedCounter({ value, duration = 2000 }) {
      const [count, setCount] = useState(0);
      
      useEffect(() => {
        let start = 0;
        const end = parseInt(value.replace(/[^0-9.-]/g, ''));
        if (isNaN(end)) { setCount(value); return; }
        
        const timer = setInterval(() => {
          start += end / (duration / 16);
          if (start >= end) {
            setCount(end);
            clearInterval(timer);
          } else {
            setCount(Math.floor(start));
          }
        }, 16);
        
        return () => clearInterval(timer);
      }, [value, duration]);

      const suffix = value.replace(/[0-9.-]/g, '');
      return <span>{typeof count === 'number' ? count.toLocaleString() + suffix : count}</span>;
    }

    // Floating Particles Background
    function FloatingParticles() {
      return (
        <div className="fixed inset-0 pointer-events-none overflow-hidden z-0">
          {[...Array(6)].map((_, i) => (
            <div
              key={i}
              className="particle animate-float"
              style={{
                width: `${20 + i * 15}px`,
                height: `${20 + i * 15}px`,
                background: i % 3 === 0 ? 'rgba(234, 88, 12, 0.1)' : i % 3 === 1 ? 'rgba(37, 99, 235, 0.1)' : 'rgba(34, 197, 94, 0.1)',
                left: `${10 + i * 15}%`,
                top: `${20 + (i % 3) * 25}%`,
                animationDelay: `${i * 0.5}s`
              }}
            />
          ))}
        </div>
      );
    }

    // Header Component
    function Header() {
      return (
        <header className="relative overflow-hidden">
          <div className="glass-dark text-white">
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
              <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div className="flex items-center gap-4">
                  <div className="relative">
                    <div className="w-16 h-16 rounded-2xl gradient-saffron flex items-center justify-center shadow-glow-secondary">
                      <svg className="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                      </svg>
                    </div>
                    <div className="absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-green-500 border-2 border-slate-800 animate-pulse"></div>
                  </div>
                  <div>
                    <h1 className="text-2xl md:text-3xl font-bold bg-gradient-to-r from-orange-400 via-white to-green-400 bg-clip-text text-transparent">
                      UIDAI Analytics Dashboard
                    </h1>
                    <p className="text-slate-400 text-sm md:text-base mt-1">
                      Aadhaar Enrolment & Update Intelligence Platform
                    </p>
                  </div>
                </div>
                <div className="flex items-center gap-3">
                  <div className="px-4 py-2 rounded-xl bg-slate-700/50 backdrop-blur-sm border border-slate-600">
                    <span className="text-xs text-slate-400">Last Updated</span>
                    <p className="text-sm font-semibold text-white">Oct 2024</p>
                  </div>
                  <div className="px-4 py-2 rounded-xl gradient-emerald">
                    <span className="text-xs text-white/80">Status</span>
                    <p className="text-sm font-semibold text-white flex items-center gap-1">
                      <span className="w-2 h-2 rounded-full bg-white animate-pulse"></span>
                      Live
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div className="h-1 w-full bg-gradient-to-r from-orange-500 via-white to-green-500"></div>
        </header>
      );
    }

    // Tab Navigation
    function TabNavigation({ activeTab, onTabChange }) {
      const tabs = [
        { id: 'overview', label: 'Overview', icon: 'üìä' },
        { id: 'analytics', label: 'Analytics', icon: 'üìà' },
        { id: 'districts', label: 'Districts', icon: 'üó∫Ô∏è' },
        { id: 'demographics', label: 'Demographics', icon: 'üë•' },
        { id: 'anomalies', label: 'Anomalies', icon: '‚ö†Ô∏è' },
        { id: 'predictions', label: 'Predictions', icon: 'üîÆ' },
        { id: 'methodology', label: 'Methodology', icon: 'üìñ' }
      ];

      return (
        <nav className="sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex gap-1 py-2 overflow-x-auto scrollbar-hide">
              {tabs.map((tab) => (
                <button
                  key={tab.id}
                  onClick={() => onTabChange(tab.id)}
                  className={`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm whitespace-nowrap transition-all duration-300 ${
                    activeTab === tab.id
                      ? 'tab-active shadow-glow-primary'
                      : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'
                  }`}
                >
                  <span>{tab.icon}</span>
                  {tab.label}
                </button>
              ))}
            </div>
          </div>
        </nav>
      );
    }

    // Stat Card
    function StatCard({ label, value, change, positive, icon, variant = 'primary', index = 0 }) {
      const variants = {
        primary: 'gradient-navy shadow-glow-primary',
        secondary: 'gradient-saffron shadow-glow-secondary',
        accent: 'gradient-emerald shadow-glow-accent',
        destructive: 'bg-gradient-to-br from-red-500 to-red-600'
      };

      return (
        <div 
          className={`relative overflow-hidden rounded-2xl p-5 text-white hover-lift animate-fadeIn ${variants[variant]}`}
          style={{ animationDelay: `${index * 0.1}s` }}
        >
          <div className="absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"></div>
          <div className="flex items-start justify-between relative z-10">
            <div>
              <p className="text-sm font-medium text-white/80">{label}</p>
              <p className="text-3xl font-bold mt-2">
                <AnimatedCounter value={value} />
              </p>
              {change && (
                <div className={`flex items-center gap-1 mt-2 text-sm ${positive ? 'text-green-300' : 'text-red-300'}`}>
                  <span>{positive ? '‚Üë' : '‚Üì'}</span>
                  <span>{change}</span>
                </div>
              )}
            </div>
            <div className="p-3 rounded-xl bg-white/20">
              <span className="text-2xl">{icon}</span>
            </div>
          </div>
        </div>
      );
    }

    // Chart Card
    function ChartCard({ title, description, children, fullWidth = false, index = 0 }) {
      return (
        <div 
          className={`glass-card rounded-2xl p-6 hover-lift animate-fadeIn ${fullWidth ? 'col-span-full' : ''}`}
          style={{ animationDelay: `${index * 0.1}s` }}
        >
          <div className="mb-4">
            <h3 className="text-lg font-bold text-gray-900">{title}</h3>
            {description && <p className="text-sm text-gray-500 mt-1">{description}</p>}
          </div>
          {children}
        </div>
      );
    }

    // Charts
    function TrendsChart() {
      const data = aadhaarData.monthlyTrends.map(d => ({
        ...d,
        enrolments: d.enrolments / 1000000,
        updates: d.updates / 1000000
      }));

      return (
        <ResponsiveContainer width="100%" height={300}>
          <AreaChart data={data}>
            <defs>
              <linearGradient id="colorEnrolments" x1="0" y1="0" x2="0" y2="1">
                <stop offset="5%" stopColor="#f97316" stopOpacity={0.8}/>
                <stop offset="95%" stopColor="#f97316" stopOpacity={0}/>
              </linearGradient>
              <linearGradient id="colorUpdates" x1="0" y1="0" x2="0" y2="1">
                <stop offset="5%" stopColor="#3b82f6" stopOpacity={0.8}/>
                <stop offset="95%" stopColor="#3b82f6" stopOpacity={0}/>
              </linearGradient>
            </defs>
            <CartesianGrid strokeDasharray="3 3" stroke="#e5e7eb" />
            <XAxis dataKey="month" tick={{ fontSize: 12 }} tickLine={false} />
            <YAxis tick={{ fontSize: 12 }} tickLine={false} tickFormatter={(v) => v + 'M'} />
            <Tooltip formatter={(v) => (v.toFixed(2) + 'M')} />
            <Legend />
            <Area type="monotone" dataKey="enrolments" stroke="#f97316" fillOpacity={1} fill="url(#colorEnrolments)" name="Enrolments" />
            <Area type="monotone" dataKey="updates" stroke="#3b82f6" fillOpacity={1} fill="url(#colorUpdates)" name="Updates" />
          </AreaChart>
        </ResponsiveContainer>
      );
    }

    function StateComparisonChart() {
      const data = getStateData().slice(0, 8).map(d => ({
        state: d.state.slice(0, 3),
        enrolments: d.enrolments / 1000,
        updates: d.updates / 1000
      }));

      return (
        <ResponsiveContainer width="100%" height={300}>
          <BarChart data={data}>
            <CartesianGrid strokeDasharray="3 3" stroke="#e5e7eb" />
            <XAxis dataKey="state" tick={{ fontSize: 12 }} />
            <YAxis tick={{ fontSize: 12 }} tickFormatter={(v) => v + 'K'} />
            <Tooltip formatter={(v) => (v.toFixed(1) + 'K')} />
            <Legend />
            <Bar dataKey="enrolments" fill="#f97316" name="Enrolments" radius={[4, 4, 0, 0]} />
            <Bar dataKey="updates" fill="#3b82f6" name="Updates" radius={[4, 4, 0, 0]} />
          </BarChart>
        </ResponsiveContainer>
      );
    }

    function AgeAnalysisChart() {
      const data = aadhaarData.ageAnalysis;
      
      return (
        <ResponsiveContainer width="100%" height={300}>
          <ComposedChart data={data}>
            <CartesianGrid strokeDasharray="3 3" stroke="#e5e7eb" />
            <XAxis dataKey="ageGroup" tick={{ fontSize: 10 }} />
            <YAxis yAxisId="left" tick={{ fontSize: 12 }} />
            <YAxis yAxisId="right" orientation="right" tick={{ fontSize: 12 }} />
            <Tooltip />
            <Legend />
            <Bar yAxisId="left" dataKey="failureRate" fill="#ef4444" name="Failure Rate %" radius={[4, 4, 0, 0]} />
            <Line yAxisId="right" type="monotone" dataKey="riskScore" stroke="#8b5cf6" strokeWidth={3} name="Risk Score" />
          </ComposedChart>
        </ResponsiveContainer>
      );
    }

    function PredictionsChart() {
      const predictions = generatePredictions();
      
      return (
        <ResponsiveContainer width="100%" height={300}>
          <AreaChart data={predictions}>
            <defs>
              <linearGradient id="colorPredicted" x1="0" y1="0" x2="0" y2="1">
                <stop offset="5%" stopColor="#22c55e" stopOpacity={0.8}/>
                <stop offset="95%" stopColor="#22c55e" stopOpacity={0}/>
              </linearGradient>
            </defs>
            <CartesianGrid strokeDasharray="3 3" stroke="#e5e7eb" />
            <XAxis dataKey="month" tick={{ fontSize: 12 }} />
            <YAxis tick={{ fontSize: 12 }} tickFormatter={(v) => (v / 1000000).toFixed(1) + 'M'} />
            <Tooltip formatter={(v) => formatNumber(v)} />
            <Legend />
            <Area type="monotone" dataKey="upperBound" stroke="#86efac" fill="#dcfce7" name="Upper Bound" />
            <Area type="monotone" dataKey="predicted" stroke="#22c55e" fillOpacity={1} fill="url(#colorPredicted)" name="Predicted" strokeWidth={3} />
            <Area type="monotone" dataKey="lowerBound" stroke="#86efac" fill="#dcfce7" name="Lower Bound" />
          </AreaChart>
        </ResponsiveContainer>
      );
    }

    function DemographicsChart() {
      const data = aadhaarData.ageAnalysis.map(d => ({
        ageGroup: d.ageGroup.replace(' Years', ''),
        enrolments: d.enrolments / 1000000,
        updates: d.updates / 1000000
      }));

      return (
        <ResponsiveContainer width="100%" height={300}>
          <BarChart data={data} layout="vertical">
            <CartesianGrid strokeDasharray="3 3" stroke="#e5e7eb" />
            <XAxis type="number" tick={{ fontSize: 12 }} tickFormatter={(v) => v + 'M'} />
            <YAxis type="category" dataKey="ageGroup" tick={{ fontSize: 11 }} width={60} />
            <Tooltip formatter={(v) => (v.toFixed(2) + 'M')} />
            <Legend />
            <Bar dataKey="enrolments" fill="#f97316" name="Enrolments" radius={[0, 4, 4, 0]} />
            <Bar dataKey="updates" fill="#3b82f6" name="Updates" radius={[0, 4, 4, 0]} />
          </BarChart>
        </ResponsiveContainer>
      );
    }

    // District Heatmap
    function DistrictHeatmap() {
      const [hoveredDistrict, setHoveredDistrict] = useState(null);
      
      const getColor = (rate) => {
        if (rate > 6) return 'bg-red-500';
        if (rate > 4) return 'bg-orange-500';
        if (rate > 2) return 'bg-yellow-500';
        return 'bg-green-500';
      };

      return (
        <div className="space-y-4">
          <div className="flex items-center gap-4 text-sm">
            <span className="text-gray-600">Failure Rate:</span>
            <div className="flex items-center gap-2">
              <div className="w-4 h-4 rounded bg-green-500"></div><span>&lt;2%</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-4 h-4 rounded bg-yellow-500"></div><span>2-4%</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-4 h-4 rounded bg-orange-500"></div><span>4-6%</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-4 h-4 rounded bg-red-500"></div><span>&gt;6%</span>
            </div>
          </div>
          
          <div className="grid grid-cols-4 sm:grid-cols-5 md:grid-cols-8 lg:grid-cols-10 gap-2">
            {aadhaarData.districts.map((d, i) => (
              <div
                key={i}
                className={`relative aspect-square rounded-lg cursor-pointer transition-all duration-300 ${getColor(d.failureRate)} ${
                  hoveredDistrict === i ? 'scale-110 shadow-lg z-10' : 'hover:scale-105'
                }`}
                onMouseEnter={() => setHoveredDistrict(i)}
                onMouseLeave={() => setHoveredDistrict(null)}
                title={`${d.district}, ${d.state}`}
              >
                <span className="absolute inset-0 flex items-center justify-center text-white text-xs font-bold">
                  {d.failureRate.toFixed(1)}
                </span>
                {hoveredDistrict === i && (
                  <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-xl whitespace-nowrap z-20 animate-fadeIn">
                    <p className="font-bold">{d.district}</p>
                    <p className="text-gray-400">{d.state}</p>
                    <p className="mt-1">Enrolments: {formatNumber(d.enrolments)}</p>
                    <p>Updates: {formatNumber(d.updates)}</p>
                    <p className="text-red-400">Failure Rate: {d.failureRate}%</p>
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>
      );
    }

    // India Map Component
    function IndiaMap() {
      const [selectedState, setSelectedState] = useState(null);
      const [hoveredState, setHoveredState] = useState(null);

      const statePaths = {
        "Maharashtra": { path: "M180,320 L220,300 L260,310 L280,340 L270,380 L230,400 L190,390 L160,360 Z", center: { x: 220, y: 350 } },
        "Uttar Pradesh": { path: "M240,200 L320,180 L360,200 L350,250 L300,270 L250,260 L230,230 Z", center: { x: 290, y: 220 } },
        "Karnataka": { path: "M180,400 L230,390 L260,420 L250,470 L200,490 L160,460 L150,420 Z", center: { x: 200, y: 440 } },
        "Tamil Nadu": { path: "M200,490 L250,470 L280,500 L270,560 L220,580 L180,540 Z", center: { x: 230, y: 520 } },
        "Rajasthan": { path: "M140,180 L220,150 L250,180 L240,240 L200,270 L150,260 L120,220 Z", center: { x: 180, y: 210 } },
        "Gujarat": { path: "M80,240 L140,220 L160,260 L150,310 L110,340 L60,320 L50,280 Z", center: { x: 110, y: 280 } },
        "West Bengal": { path: "M360,250 L400,230 L420,270 L410,330 L380,350 L350,320 L340,280 Z", center: { x: 380, y: 290 } },
        "Bihar": { path: "M340,230 L380,210 L400,240 L390,280 L360,290 L330,270 Z", center: { x: 365, y: 250 } }
      };

      const stateData = useMemo(() => {
        const data = {};
        aadhaarData.districts.forEach((district) => {
          if (!data[district.state]) {
            data[district.state] = { enrolments: 0, updates: 0, failures: 0, districts: [] };
          }
          data[district.state].enrolments += district.enrolments;
          data[district.state].updates += district.updates;
          data[district.state].failures += district.failures;
          data[district.state].districts.push(district);
        });
        Object.values(data).forEach((state) => {
          const total = state.enrolments + state.updates;
          state.failureRate = total > 0 ? (state.failures / total) * 100 : 0;
        });
        return data;
      }, []);

      const getStateColor = (state) => {
        const data = stateData[state];
        if (!data) return "#e5e7eb";
        const rate = data.failureRate;
        if (rate > 5) return "#ef4444";
        if (rate > 3) return "#f97316";
        if (rate > 2) return "#22c55e";
        return "#10b981";
      };

      const selectedStateData = selectedState ? stateData[selectedState] : null;

      if (selectedState) {
        return (
          <div className="space-y-4 animate-fadeIn">
            <button
              onClick={() => setSelectedState(null)}
              className="flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors"
            >
              ‚Üê Back to Map
            </button>
            
            <div className="flex items-center gap-3 mb-4">
              <div className="p-2 rounded-lg gradient-saffron">
                <span className="text-white text-xl">üìç</span>
              </div>
              <div>
                <h3 className="text-xl font-bold text-gray-900">{selectedState}</h3>
                <p className="text-sm text-gray-500">{selectedStateData?.districts.length} Districts</p>
              </div>
            </div>

            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
              <div className="p-4 rounded-xl bg-orange-50 border border-orange-200">
                <p className="text-sm text-gray-600">Enrolments</p>
                <p className="text-2xl font-bold text-orange-600">{formatNumber(selectedStateData?.enrolments || 0)}</p>
              </div>
              <div className="p-4 rounded-xl bg-blue-50 border border-blue-200">
                <p className="text-sm text-gray-600">Updates</p>
                <p className="text-2xl font-bold text-blue-600">{formatNumber(selectedStateData?.updates || 0)}</p>
              </div>
              <div className="p-4 rounded-xl bg-red-50 border border-red-200">
                <p className="text-sm text-gray-600">Failures</p>
                <p className="text-2xl font-bold text-red-600">{formatNumber(selectedStateData?.failures || 0)}</p>
              </div>
              <div className="p-4 rounded-xl bg-purple-50 border border-purple-200">
                <p className="text-sm text-gray-600">Failure Rate</p>
                <p className="text-2xl font-bold text-purple-600">{selectedStateData?.failureRate.toFixed(2)}%</p>
              </div>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
              {selectedStateData?.districts.map((district, i) => (
                <div
                  key={district.district}
                  className="p-4 rounded-xl border border-gray-200 hover:border-blue-400 hover:shadow-lg transition-all animate-fadeIn"
                  style={{ animationDelay: `${i * 0.05}s` }}
                >
                  <div className="flex justify-between items-start mb-3">
                    <h4 className="font-bold text-gray-900">{district.district}</h4>
                    <span className={`px-2 py-1 text-xs font-semibold rounded-full ${
                      district.failureRate > 6 ? 'bg-red-100 text-red-700' :
                      district.failureRate > 4 ? 'bg-orange-100 text-orange-700' :
                      'bg-green-100 text-green-700'
                    }`}>
                      {district.failureRate.toFixed(2)}%
                    </span>
                  </div>
                  <div className="space-y-1 text-sm">
                    <div className="flex justify-between">
                      <span className="text-gray-500">Enrolments</span>
                      <span className="font-medium text-orange-600">{formatNumber(district.enrolments)}</span>
                    </div>
                    <div className="flex justify-between">
                      <span className="text-gray-500">Updates</span>
                      <span className="font-medium text-blue-600">{formatNumber(district.updates)}</span>
                    </div>
                    <div className="flex justify-between">
                      <span className="text-gray-500">Failures</span>
                      <span className="font-medium text-red-600">{formatNumber(district.failures)}</span>
                    </div>
                  </div>
                  <div className="mt-3 h-2 bg-gray-100 rounded-full overflow-hidden">
                    <div
                      className={`h-full rounded-full ${
                        district.failureRate > 6 ? 'bg-red-500' :
                        district.failureRate > 4 ? 'bg-orange-500' : 'bg-green-500'
                      }`}
                      style={{ width: `${Math.min(district.failureRate * 10, 100)}%` }}
                    ></div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        );
      }

      return (
        <div className="relative">
          <div className="absolute top-4 left-4 z-20 p-3 rounded-xl bg-white/95 backdrop-blur-sm border border-gray-200 shadow-sm">
            <p className="text-xs font-semibold mb-2 text-gray-700">Failure Rate</p>
            <div className="space-y-1.5">
              {[
                { color: 'bg-green-500', label: '< 2%' },
                { color: 'bg-emerald-500', label: '2-3%' },
                { color: 'bg-orange-500', label: '3-5%' },
                { color: 'bg-red-500', label: '> 5%' }
              ].map(({ color, label }) => (
                <div key={label} className="flex items-center gap-2">
                  <div className={`w-3 h-3 rounded-sm ${color}`}></div>
                  <span className="text-xs text-gray-600">{label}</span>
                </div>
              ))}
            </div>
          </div>

          <svg viewBox="0 0 500 650" className="w-full h-[450px]">
            <defs>
              <linearGradient id="mapBg" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stopColor="#f0f9ff" />
                <stop offset="100%" stopColor="#fef3c7" />
              </linearGradient>
            </defs>
            <rect width="500" height="650" fill="url(#mapBg)" rx="20" />
            
            {Object.entries(statePaths).map(([state, { path, center }]) => (
              <g key={state}>
                <path
                  d={path}
                  fill={getStateColor(state)}
                  stroke={hoveredState === state ? "#1e40af" : "#ffffff"}
                  strokeWidth={hoveredState === state ? 3 : 1.5}
                  className="cursor-pointer transition-all duration-300"
                  style={{ opacity: hoveredState && hoveredState !== state ? 0.5 : 1 }}
                  onClick={() => setSelectedState(state)}
                  onMouseEnter={() => setHoveredState(state)}
                  onMouseLeave={() => setHoveredState(null)}
                />
                <text
                  x={center.x}
                  y={center.y}
                  textAnchor="middle"
                  className="text-[10px] font-bold fill-white pointer-events-none"
                  style={{ textShadow: '0 1px 2px rgba(0,0,0,0.5)' }}
                >
                  {state.slice(0, 3).toUpperCase()}
                </text>
              </g>
            ))}
            
            <text x="250" y="610" textAnchor="middle" className="text-xs fill-gray-500">
              Click on a state to view district details
            </text>
          </svg>

          {hoveredState && stateData[hoveredState] && (
            <div className="absolute bottom-4 left-1/2 -translate-x-1/2 p-4 rounded-xl bg-white/95 backdrop-blur-sm border border-gray-200 shadow-lg animate-fadeIn">
              <div className="flex items-center gap-2 mb-2">
                <span className="text-lg">üìç</span>
                <span className="font-bold text-gray-900">{hoveredState}</span>
              </div>
              <div className="grid grid-cols-3 gap-4 text-sm">
                <div>
                  <p className="text-gray-500">Enrolments</p>
                  <p className="font-semibold text-orange-600">{formatNumber(stateData[hoveredState].enrolments)}</p>
                </div>
                <div>
                  <p className="text-gray-500">Updates</p>
                  <p className="font-semibold text-blue-600">{formatNumber(stateData[hoveredState].updates)}</p>
                </div>
                <div>
                  <p className="text-gray-500">Failure Rate</p>
                  <p className={`font-semibold ${stateData[hoveredState].failureRate > 5 ? 'text-red-600' : 'text-green-600'}`}>
                    {stateData[hoveredState].failureRate.toFixed(2)}%
                  </p>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    }

    // Anomalies Table
    function AnomaliesTable() {
      const anomalies = detectAnomalies();

      return (
        <div className="overflow-x-auto">
          <table className="w-full text-sm">
            <thead>
              <tr className="border-b border-gray-200">
                <th className="text-left py-3 px-4 font-semibold text-gray-600">District</th>
                <th className="text-left py-3 px-4 font-semibold text-gray-600">State</th>
                <th className="text-right py-3 px-4 font-semibold text-gray-600">Failure Rate</th>
                <th className="text-right py-3 px-4 font-semibold text-gray-600">Z-Score</th>
                <th className="text-center py-3 px-4 font-semibold text-gray-600">Severity</th>
              </tr>
            </thead>
            <tbody>
              {anomalies.map((a, i) => (
                <tr key={i} className="border-b border-gray-100 hover:bg-gray-50 animate-fadeIn" style={{ animationDelay: `${i * 0.05}s` }}>
                  <td className="py-3 px-4 font-medium text-gray-900">{a.district}</td>
                  <td className="py-3 px-4 text-gray-600">{a.state}</td>
                  <td className="py-3 px-4 text-right font-semibold text-red-600">{a.failureRate.toFixed(2)}%</td>
                  <td className="py-3 px-4 text-right font-mono">{a.zScore.toFixed(2)}</td>
                  <td className="py-3 px-4 text-center">
                    <span className={`px-3 py-1 rounded-full text-xs font-semibold ${
                      a.severity === 'Critical' ? 'bg-red-100 text-red-700' :
                      a.severity === 'High' ? 'bg-orange-100 text-orange-700' :
                      'bg-yellow-100 text-yellow-700'
                    }`}>
                      {a.severity}
                    </span>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      );
    }

    // Methodology Section
    function MethodologySection() {
      const sections = [
        {
          title: "Data Sources",
          icon: "üìä",
          content: "This dashboard uses simulated data based on publicly available UIDAI statistics and research papers. Real implementation would connect to official UIDAI APIs and databases."
        },
        {
          title: "Anomaly Detection",
          icon: "üîç",
          content: "We use the Z-score method to identify districts with statistically significant deviations in failure rates. Districts with Z-scores above 2 are flagged, with severity levels based on deviation magnitude."
        },
        {
          title: "Prediction Model",
          icon: "üìà",
          content: "Linear regression is used to forecast future update demands based on historical trends. Confidence intervals are calculated using standard error estimation with expanding uncertainty."
        },
        {
          title: "Risk Scoring",
          icon: "‚ö†Ô∏è",
          content: "Risk scores combine multiple factors including failure rates, volume, and demographic patterns. Higher scores indicate greater need for intervention and resource allocation."
        }
      ];

      return (
        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          {sections.map((section, i) => (
            <div
              key={section.title}
              className="glass-card rounded-2xl p-6 hover-lift animate-fadeIn"
              style={{ animationDelay: `${i * 0.1}s` }}
            >
              <div className="flex items-center gap-3 mb-4">
                <div className="p-3 rounded-xl gradient-navy">
                  <span className="text-2xl">{section.icon}</span>
                </div>
                <h3 className="text-lg font-bold text-gray-900">{section.title}</h3>
              </div>
              <p className="text-gray-600 leading-relaxed">{section.content}</p>
            </div>
          ))}
        </div>
      );
    }

    // Footer
    function Footer() {
      return (
        <footer className="mt-12 py-8 border-t border-gray-200 bg-white/50">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex flex-col md:flex-row justify-between items-center gap-4">
              <div className="flex items-center gap-3">
                <div className="w-10 h-10 rounded-xl gradient-saffron flex items-center justify-center">
                  <span className="text-white text-lg">üõ°Ô∏è</span>
                </div>
                <div>
                  <p className="font-semibold text-gray-900">UIDAI Analytics Dashboard</p>
                  <p className="text-sm text-gray-500">Powered by Open Data Initiative</p>
                </div>
              </div>
              <div className="flex items-center gap-6 text-sm text-gray-500">
                <span>Data Period: 2022-2024</span>
                <span>‚Ä¢</span>
                <span>Last Updated: October 2024</span>
                <span>‚Ä¢</span>
                <span className="text-green-600 font-medium">‚óè Live</span>
              </div>
            </div>
            <div className="mt-6 pt-6 border-t border-gray-200 text-center text-sm text-gray-400">
              <p>¬© 2024 UIDAI Analytics Dashboard. For demonstration purposes only.</p>
              <p className="mt-1">This is a simulated dashboard showcasing data visualization capabilities.</p>
            </div>
          </div>
        </footer>
      );
    }

    // Main Dashboard
    function Dashboard() {
      const [activeTab, setActiveTab] = useState('overview');
      const stats = calculateStats();

      const renderContent = () => {
        switch (activeTab) {
          case 'overview':
            return (
              <div className="space-y-8 animate-fadeIn">
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                  <StatCard label="Total Enrolments" value={formatNumber(stats.totalEnrolments)} change="+12.5%" positive icon="üë•" variant="secondary" index={0} />
                  <StatCard label="Total Updates" value={formatNumber(stats.totalUpdates)} change="+8.3%" positive icon="üîÑ" variant="primary" index={1} />
                  <StatCard label="Avg Failure Rate" value={stats.avgFailureRate + "%"} change="-0.5%" positive icon="üìä" variant="accent" index={2} />
                  <StatCard label="High-Risk Districts" value={stats.highRiskDistricts.toString()} change="+2" positive={false} icon="‚ö†Ô∏è" variant="destructive" index={3} />
                </div>
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                  <StatCard label="Total Districts" value={stats.totalDistricts.toString()} icon="üìç" variant="primary" index={4} />
                  <StatCard label="States Covered" value={stats.totalStates.toString()} icon="üèõÔ∏è" variant="secondary" index={5} />
                  <StatCard label="Total Requests" value={formatNumber(stats.totalRequests)} change="+15.2%" positive icon="üìà" variant="accent" index={6} />
                  <StatCard label="Data Period" value="2022-2024" icon="üìÖ" variant="primary" index={7} />
                </div>
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                  <ChartCard title="Enrolment vs Update Trends" description="Monthly transaction volume comparison (2022-2024)" index={0}>
                    <TrendsChart />
                  </ChartCard>
                  <ChartCard title="State-wise Transaction Volume" description="Comparison of enrolments vs updates across states" index={1}>
                    <StateComparisonChart />
                  </ChartCard>
                </div>
              </div>
            );

          case 'analytics':
            return (
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fadeIn">
                <ChartCard title="Enrolment vs Update Trends" description="Monthly transaction volume comparison" index={0}>
                  <TrendsChart />
                </ChartCard>
                <ChartCard title="Age-wise Biometric Failure Risk" description="Failure rates and risk scores by age group" index={1}>
                  <AgeAnalysisChart />
                </ChartCard>
                <ChartCard title="State-wise Transaction Volume" description="Comparison across states" index={2}>
                  <StateComparisonChart />
                </ChartCard>
                <ChartCard title="Predicted Update Demand" description="Linear regression forecast with confidence intervals" index={3}>
                  <PredictionsChart />
                </ChartCard>
              </div>
            );

          case 'districts':
            return (
              <div className="space-y-6 animate-fadeIn">
                <ChartCard title="Interactive India Map" description="Click on a state to drill down into district-level data" fullWidth>
                  <IndiaMap />
                </ChartCard>
                <ChartCard title="District Failure Rate Heatmap" description="Color-coded failure rates across all districts" fullWidth>
                  <DistrictHeatmap />
                </ChartCard>
              </div>
            );

          case 'demographics':
            return (
              <div className="space-y-6 animate-fadeIn">
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                  <ChartCard title="Age-wise Transaction Distribution" description="Total enrolments and updates by age group" index={0}>
                    <DemographicsChart />
                  </ChartCard>
                  <ChartCard title="Age-wise Biometric Failure Risk" description="Failure rates and risk scores by age group" index={1}>
                    <AgeAnalysisChart />
                  </ChartCard>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  {aadhaarData.ageAnalysis.slice(0, 3).map((age, i) => (
                    <div key={age.ageGroup} className="p-5 rounded-xl glass-card hover-lift animate-fadeIn" style={{ animationDelay: `${i * 0.1}s` }}>
                      <div className="flex items-center justify-between mb-3">
                        <span className="text-sm font-medium text-gray-600">{age.ageGroup}</span>
                        <span className={`px-2 py-1 text-xs font-semibold rounded-full ${
                          age.riskScore > 70 ? 'bg-red-100 text-red-700' :
                          age.riskScore > 40 ? 'bg-orange-100 text-orange-700' :
                          'bg-green-100 text-green-700'
                        }`}>
                          Risk: {age.riskScore}
                        </span>
                      </div>
                      <p className="text-2xl font-bold text-gray-900">{formatNumber(age.enrolments + age.updates)}</p>
                      <p className="text-sm text-gray-500 mt-1">{age.failureRate}% failure rate</p>
                    </div>
                  ))}
                </div>
              </div>
            );

          case 'anomalies':
            return (
              <div className="animate-fadeIn">
                <ChartCard title="Detected Anomalies" description="Districts with statistically significant failure rate deviations (Z-score method)" fullWidth>
                  <AnomaliesTable />
                </ChartCard>
              </div>
            );

          case 'predictions':
            return (
              <div className="space-y-6 animate-fadeIn">
                <ChartCard title="Predicted Update Demand (6 Months)" description="Linear regression forecast with 95% confidence intervals" fullWidth>
                  <PredictionsChart />
                </ChartCard>
                <div className="p-6 rounded-2xl bg-green-50 border border-green-200">
                  <div className="flex items-start gap-4">
                    <div className="p-3 rounded-xl gradient-emerald">
                      <span className="text-white text-2xl">üìà</span>
                    </div>
                    <div>
                      <h3 className="font-semibold text-gray-900 text-lg">Forecast Insights</h3>
                      <p className="text-gray-600 mt-2">
                        Based on historical trends, we predict a <span className="font-semibold text-green-600">15-20% increase</span> in 
                        update requests over the next 6 months. Peak demand expected in April-May 2025 
                        coinciding with financial year end. Infrastructure scaling recommended for high-volume districts.
                      </p>
                      <div className="mt-4 flex flex-wrap gap-2">
                        {["Apr Peak: +25%", "Confidence: 95%", "R¬≤: 0.89"].map((tag) => (
                          <span key={tag} className="px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700">
                            {tag}
                          </span>
                        ))}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            );

          case 'methodology':
            return <div className="animate-fadeIn"><MethodologySection /></div>;

          default:
            return null;
        }
      };

      return (
        <div className="min-h-screen relative">
          <FloatingParticles />
          <Header />
          <TabNavigation activeTab={activeTab} onTabChange={setActiveTab} />
          <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10">
            {renderContent()}
          </main>
          <Footer />
        </div>
      );
    }

    // Render App
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<Dashboard />);
  </script>
</body>
</html>
